   Compiling chtholly_compiler v0.1.0 (/app)
warning: use of deprecated method `inkwell::types::BasicType::ptr_type`: Starting from version 15.0, LLVM doesn't differentiate between pointer types. Use Context::ptr_type instead.
   --> src/codegen.rs:241:29
    |
241 |                  inner_type.ptr_type(addr_space).into()
    |                             ^^^^^^^^
    |
    = note: `#[warn(deprecated)]` on by default

warning: field `is_mutable` is never read
  --> src/codegen.rs:16:5
   |
12 | struct Symbol<'ctx> {
   |        ------ field in this struct
...
16 |     is_mutable: bool,
   |     ^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `chtholly_compiler` (bin "chtholly_compiler") generated 2 warnings
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.81s
     Running `target/debug/chtholly_compiler test.cns`
正在编译文件：test.cns
--- 源代码 ---
fn main(args: string[]): Result<i32, SystemError>
{
    let a: i32 = 10 > 5;
}

-------------------
--- 抽象语法树 ---
Program {
    functions: [
        FunctionDefinition {
            name: "main",
            params: [
                Parameter {
                    name: "args",
                    param_type: Array(
                        Simple(
                            "string",
                        ),
                    ),
                },
            ],
            return_type: Generic(
                "Result",
                [
                    Simple(
                        "i32",
                    ),
                    Simple(
                        "SystemError",
                    ),
                ],
            ),
            body: [
                VariableDeclaration(
                    VariableDeclaration {
                        is_mutable: false,
                        name: "a",
                        var_type: Some(
                            Simple(
                                "i32",
                            ),
                        ),
                        initializer: Some(
                            BinaryExpression {
                                op: GreaterThan,
                                left: IntegerLiteral(
                                    10,
                                ),
                                right: IntegerLiteral(
                                    5,
                                ),
                            },
                        ),
                    },
                ),
            ],
        },
    ],
}
-------------------
--- LLVM IR ---
; ModuleID = 'chtholly_module'
source_filename = "chtholly_module"

define i32 @main(ptr %args) {
entry:
  %a = alloca i32, align 4
  store i32 1, ptr %a, align 4
  ret i32 0
}

-----------------
LLVM IR 已保存到 output.ll
Clang 编译成功！
--- 程序输出 ---

--------------------
