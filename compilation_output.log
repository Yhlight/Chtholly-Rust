   Compiling chtholly_compiler v0.1.0 (/app)
warning: field `is_mutable` is never read
  --> src/codegen.rs:14:5
   |
11 | struct Symbol<'ctx> {
   |        ------ field in this struct
...
14 |     is_mutable: bool,
   |     ^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `chtholly_compiler` (bin "chtholly_compiler") generated 1 warning
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 3.98s
     Running `target/debug/chtholly_compiler test.cns`
正在编译文件：test.cns
--- 源代码 ---
fn main(args: string[]): Result<i32, SystemError>
{
    let a: i32 = 10 + 20 * 3;
}

-------------------
--- 抽象语法树 ---
Program {
    functions: [
        FunctionDefinition {
            name: "main",
            params: [
                Parameter {
                    name: "args",
                    param_type: Array(
                        Simple(
                            "string",
                        ),
                    ),
                },
            ],
            return_type: Generic(
                "Result",
                [
                    Simple(
                        "i32",
                    ),
                    Simple(
                        "SystemError",
                    ),
                ],
            ),
            body: [
                VariableDeclaration(
                    VariableDeclaration {
                        is_mutable: false,
                        name: "a",
                        var_type: Some(
                            Simple(
                                "i32",
                            ),
                        ),
                        initializer: Some(
                            BinaryExpression {
                                op: Add,
                                left: IntegerLiteral(
                                    10,
                                ),
                                right: BinaryExpression {
                                    op: Multiply,
                                    left: IntegerLiteral(
                                        20,
                                    ),
                                    right: IntegerLiteral(
                                        3,
                                    ),
                                },
                            },
                        ),
                    },
                ),
            ],
        },
    ],
}
-------------------
--- LLVM IR ---
; ModuleID = 'chtholly_module'
source_filename = "chtholly_module"

define i32 @main(ptr %args) {
entry:
  %a = alloca i32, align 4
  store i32 70, ptr %a, align 4
  ret i32 0
}

-----------------
LLVM IR 已保存到 output.ll
Clang 编译成功！
--- 程序输出 ---

--------------------
